# Changelog

All notable changes to this project will be documented in this file.

## [unreleased]

### Bug Fixes

- Handle imports with dots when resolving files with extensions

### Features

- Handle export from statements
- [**breaking**] Rework watching system by using a poller

### Miscellaneous Tasks

- Format code
- Update bench npm script
- Format and lint rs code

### Testing

- Restore auto modified fixtures after tests
- Migrate to japa test runner

### Build

- Properly handle without_napi feature

## [1.1.0] - 2023-08-31

### Build

- Fix .node requiring libc > 2.33 on linux

## [1.0.0] - 2023-08-30

### Bug Fixes

- Match branches for Event::Create/Delete
- Properly returns FileItem to ::watch callback
- Properly handle paths on Windows
- Detect new entries and new deps from modified entry
- Correct esm parser
- Update entries when store change
- Update deps when entry change before making changes
- Roperly handle modif and delete changes
- Include project root in dirs to watch
- Correctly return entries on change
- Properly update store on file created or renamed
- Ignore inexistant paths from store when making entries
- Clean paths made from glob
- Correct esm extension

### Documentation

- Add docs
- Clarify docs
- Improve documentation

### Features

- Add make_user_file()
- Improve paths support in make_user_file()
- Add store to make_user_file
- Improve UserFile structure
- Add glob support to make_entries
- Add support for require, dynamic import and export
- Add MakeEntriesOptions
- Add checksum to FileItem
- Add Watcher::setup
- Add Watcher::make_changes
- Improve Watcher::make_changes perf
- Improve changes detection (Watcher::make_changes)
- Add Watcher::watch
- Construct deps without dups
- Setup nodejs integration
- Add find_node_modules_dir
- Add resolve_node_module fn
- Support node modules when collecting deps
- Add imports parser
- Use parser in make_file_item()
- Use space instead of many(char(' '))
- Correctly handle supported_paths and make_entries_opts
- Add bin
- Refresh watched paths when deps change
- Make struct thread-friendly
- Block watch() until watching properly starts
- Complete support for "supported_paths" option
- Improve node module resolution
- Handle arrays in "exports" when resolving node modules
- Add debug option
- Handle Event::Rename
- Send WatchInfo instead of entries to watch cb
- Add binary

### Miscellaneous Tasks

- Lint code
- Rename make_user_file to make_file_item
- Lint code
- Cleanup
- Solve tests warnings
- Format code
- Cleanup
- Build project
- Ignore *.node files
- Lint code
- Fix clippy issues
- Fix CI
- Fix CI
- Fix CI
- Add demo showcasing watch()
- Bench make_file_item
- Fix CI
- Bench checksum process
- Add make_entries example

### Performance

- Add benchmarking

### Refactor

- Switch to monorepo
- Externalize event to str conversion on WatchInfo

### Testing

- Add additional tests
- Add real world threejs test
- Add js tests
- Add tests for watch()
- Fix tests

### Wip

- Add timestamp

<!-- generated by git-cliff -->
